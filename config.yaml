# Open InsiderTrader Configuration
# All scoring weights and thresholds

# =============================================================================
# SIGNAL FILTERING
# =============================================================================

filtering:
  # Minimum absolute dollar threshold
  min_trade_value: 100000  # $100K

  # Minimum trade as % of market cap (0.00001 = 0.00001%)
  # Set to 0 to disable market cap filtering
  min_market_cap_pct: 0.00001

  # Maximum market cap to consider (in billions)
  # Set to null to include all companies
  max_market_cap_billions: null  # e.g., 500 to exclude mega-caps

  # Cluster detection window (days)
  cluster_window_days: 7

  # Minimum number of insiders for cluster (1 = no clustering required)
  min_cluster_size: 1

# =============================================================================
# EXECUTIVE LEVEL FILTERING AND WEIGHTING
# =============================================================================

# Executive position weights (multiplier on final score)
# Research shows CEO/CFO have strongest predictive power
executive_weights:
  # Top C-Suite (1.0 = full weight)
  'CEO': 1.0
  'Chief Executive Officer': 1.0
  'CFO': 1.0
  'Chief Financial Officer': 1.0
  'President': 1.0
  'Chairman': 1.0
  'Chairman of the Board': 1.0
  'COO': 1.0
  'Chief Operating Officer': 1.0
  'Vice Chairman': 1.0

  # Vice Presidents (0.5 = 50% discount)
  'Executive Vice President': 0.5
  'EVP': 0.5
  'Senior Vice President': 0.5
  'SVP': 0.5
  'Vice President': 0.5
  'VP': 0.5

  # Add more titles as discovered in data
  # Default weight for unmatched titles: 0.3

# =============================================================================
# DOLLAR AMOUNT WEIGHTING
# =============================================================================

dollar_weight:
  # Logarithmic scaling parameters
  base_amount: 100000  # $100K = weight of 1.0
  log_multiplier: 0.5  # Controls steepness of curve

  # Examples of resulting weights:
  # $100K -> 1.0
  # $200K -> 1.15
  # $500K -> 1.35
  # $1M -> 1.5
  # $5M -> 1.85
  # $10M -> 2.0

# =============================================================================
# CLUSTER WEIGHTING
# =============================================================================

cluster_weights:
  1: 1.0   # Single insider (no cluster)
  2: 1.5   # Two insiders buying within window
  3: 1.8   # Three insiders
  4: 2.0   # Four insiders
  5: 2.2   # Five or more insiders (capped)
  max: 2.2 # Maximum cluster weight

# =============================================================================
# MARKET CAP WEIGHTING
# =============================================================================

market_cap_weight:
  # Logarithmic scaling for trade as % of market cap
  baseline_pct: 0.00001  # 0.00001% = weight of 1.0
  log_multiplier: 0.5    # Controls steepness
  min_weight: 0.5        # Floor for negligible % trades
  max_weight: 3.0        # Ceiling for very large % trades

  # Examples of resulting weights:
  # 0.00001% -> 1.0 (typical mega-cap)
  # 0.0001% -> 1.5
  # 0.001% -> 2.0
  # 0.01% -> 2.5
  # 0.1%+ -> 3.0 (capped)

# =============================================================================
# COMPOSITE SCORE CALCULATION
# =============================================================================

scoring:
  # How to combine the weights
  # Formula: executive_weight × dollar_weight × cluster_weight × market_cap_weight
  combination_method: 'multiply'

  # Minimum score threshold for a signal to be actionable
  min_signal_score: 2.0

  # Top N signals to consider per time period
  top_n_signals: 50

# =============================================================================
# BACKTESTING PARAMETERS
# =============================================================================

backtesting:
  # Holding periods to test (in trading days)
  holding_periods:
    - 1     # 1 day
    - 3     # 3 days
    - 5     # 1 week
    - 10    # 2 weeks
    - 21    # 1 month
    - 63    # 3 months
    - 126   # 6 months
    - 252   # 1 year
    - 1260  # 5 years
    - -1    # Hold until present (max)

  # Transaction costs (as decimal percentages)
  commission_pct: 0.002    # 0.2% per trade (20 bps)
  slippage_pct: 0.001      # 0.1% market impact (10 bps)
  total_cost_per_side: 0.003  # 0.3% per side, 0.6% round-trip

  # Filing delay assumptions
  min_filing_delay_days: 2   # Legal minimum
  avg_filing_delay_days: 3   # Average delay to account for

  # Benchmark
  benchmark_ticker: '^GSPC'  # S&P 500

  # Risk-free rate for Sharpe ratio (annual %)
  risk_free_rate: 0.04  # 4% annual

# =============================================================================
# DATA SOURCES
# =============================================================================

data_sources:
  # SEC EDGAR API
  sec_api:
    base_url: 'https://www.sec.gov/cgi-bin/browse-edgar'
    user_agent: 'OpenInsiderTrader research@example.com'
    rate_limit_per_second: 10

  # Stock price data
  price_data:
    source: 'yahoo'  # Options: yahoo, alpha_vantage, iex

  # Market cap data
  market_cap:
    source: 'yahoo'  # Options: yahoo, alpha_vantage, financial_modeling_prep

# =============================================================================
# AI ANALYSIS
# =============================================================================

ai_analysis:
  model: 'claude-sonnet-4-5'

  # Thresholds for recommendation
  strong_buy_score: 8.0
  buy_score: 5.0
  cautious_score: 3.0
  # Below cautious_score = NO BUY

  # Context to provide to AI
  include_metrics:
    - sharpe_ratio
    - max_drawdown
    - win_rate
    - avg_return
    - calmar_ratio
    - alpha_vs_benchmark
    - signal_score
    - cluster_size
    - executive_levels

# =============================================================================
# DASHBOARD
# =============================================================================

dashboard:
  # Display preferences
  default_sort: 'signal_score'  # Options: signal_score, trade_date, return_1d, etc.
  rows_per_page: 50

  # Chart colors
  colors:
    signal_line: '#00ff00'
    benchmark_line: '#0066cc'
    drawdown: '#ff0000'
